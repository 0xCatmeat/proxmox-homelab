# Admin Tools Stack Environment Configuration
# Copy this file to .env and customize as needed

# =============================================================================
# General Configuration
# =============================================================================
# Timezone (affects log timestamps and container time)
# Examples: America/New_York, America/Los_Angeles, Europe/London, Asia/Tokyo
TZ=UTC

# =============================================================================
# Watchtower Configuration
# =============================================================================
# Poll interval in seconds (how often to check for updates)
# Default: 86400 (24 hours)
# Examples: 3600 (1 hour), 43200 (12 hours), 86400 (24 hours)
WATCHTOWER_POLL_INTERVAL=86400

# Cleanup old images after updating
# Default: true
# Set to false to keep old images for rollback
WATCHTOWER_CLEANUP=true

# Monitor-only mode
# When true: Watchtower checks for updates and logs them but doesn't auto-update
# When false: Watchtower automatically updates containers when new images are available
# Default: true (safer option)
WATCHTOWER_MONITOR_ONLY=true

# Include stopped containers in update checks
# Default: false
# Set to true if you want Watchtower to update containers that are not running
WATCHTOWER_INCLUDE_STOPPED=false

# Optional: Notifications (requires notification service setup)
# Uncomment and configure if you want update notifications
# WATCHTOWER_NOTIFICATIONS=shoutrrr
# WATCHTOWER_NOTIFICATION_URL=telegram://token@telegram?channels=channel_id

# =============================================================================
# Dockge Configuration
# =============================================================================
# Dockge web UI port
DOCKGE_PORT=5001

# Stacks directory (where Dockge stores compose files)
# CRITICAL: This path must match on both host and container
# You must create this directory before starting: sudo mkdir -p /opt/stacks
DOCKGE_STACKS_DIR=/opt/stacks

# =============================================================================
# Vaultwarden Configuration
# =============================================================================
# Vaultwarden web vault port
VAULTWARDEN_PORT=8000

# Domain (optional, used for proper HTTPS redirects)
# Leave empty for local use
# Example: https://vault.yourdomain.com
VAULTWARDEN_DOMAIN=

# Allow new user signups
# Default: true
# Set to false after creating your account to prevent unauthorized registrations
VAULTWARDEN_SIGNUPS_ALLOWED=true

# Allow existing users to invite others
VAULTWARDEN_INVITATIONS_ALLOWED=false

# Admin panel token (optional but recommended)
# Used to access admin panel for server management
# Generate token with: openssl rand -base64 48
# Leave commented out to disable admin panel
# VAULTWARDEN_ADMIN_TOKEN="ADMIN-TOKEN-HERE"

# Enable WebSocket for live sync
# Default: true
# Required for real-time vault synchronization across devices
VAULTWARDEN_WEBSOCKET_ENABLED=true

# =============================================================================
# IT-Tools Configuration
# =============================================================================
# IT-Tools web UI port
ITTOOLS_PORT=8080

# =============================================================================
# Stirling PDF Configuration
# =============================================================================
# Stirling PDF web UI port
STIRLINGPDF_PORT=8082

# Enable security features (login/authentication)
# Set to true to require authentication for Stirling PDF
STIRLINGPDF_SECURITY=false

# Install book and advanced HTML operations
# Set to true to enable advanced PDF manipulation features (increases container size)
STIRLINGPDF_ADVANCED_OPS=false

# =============================================================================
# Notes
# =============================================================================
# Port Summary:
# - Dockge:       5001
# - Vaultwarden:  8000
# - IT-Tools:     8080
# - Stirling PDF: 8082

# Service Access URLs:
# - Dockge:       http://YOUR_VM_IP:5001
# - Vaultwarden:  http://YOUR_VM_IP:8000
# - IT-Tools:     http://YOUR_VM_IP:8080
# - Stirling PDF: http://YOUR_VM_IP:8082

# Security Recommendations:
# 1. Set VAULTWARDEN_SIGNUPS_ALLOWED=false after creating your account
# 2. Generate and set VAULTWARDEN_ADMIN_TOKEN if you need admin features
# 3. Use firewall rules to restrict access to these ports
# 4. Consider placing Vaultwarden behind a reverse proxy with HTTPS
# 5. Set WATCHTOWER_MONITOR_ONLY=true to prevent unexpected updates

# Dockge Important Notes:
# - You MUST create /opt/stacks directory before starting the stack
# - The path in DOCKGE_STACKS_DIR must match exactly between host and container
# - Dockge manages other Docker Compose stacks through its web UI
# - Requires Docker socket access to manage containers

# Watchtower Important Notes:
# - Watchtower monitors ALL containers on the host, not just this stack
# - MONITOR_ONLY mode is recommended to avoid unexpected container updates
# - Watchtower runs in the background and has no web UI
# - Check logs with: docker logs admin-tools-watchtower